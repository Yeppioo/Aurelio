<UserControl
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d"
    x:Class="Aurelio.Views.Main.SubPages.SettingPages.AccountPage"
    x:DataType="data:Data"
    xmlns="https://github.com/avaloniaui"
    xmlns:controls="clr-namespace:Aurelio.Public.Controls"
    xmlns:controls1="clr-namespace:LiteSkinViewer3D.Avalonia.Controls;assembly=LiteSkinViewer3D"
    xmlns:converter="clr-namespace:Aurelio.Public.Module.Converter"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:data="clr-namespace:Aurelio.Public.Const"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:minecraft="clr-namespace:Aurelio.Public.Classes.Minecraft"
    xmlns:minecraftSkinRender="clr-namespace:MinecraftSkinRender;assembly=MinecraftSkinRender"
    xmlns:properties="clr-namespace:Aurelio.Public.Langs"
    xmlns:u="https://irihi.tech/ursa"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <UserControl.Resources>
        <converter:ReverseBoolConverter x:Key="ReverseBoolConverter" />
    </UserControl.Resources>
    <Border Name="Root">
        <Border Margin="15,0,15,15">
            <Grid ColumnDefinitions="*, Auto, 330">
                <Border
                    Classes="card"
                    Grid.Column="0"
                    Margin="0,0,5,0">
                    <DockPanel>
                        <DockPanel
                            Dock="Top"
                            LastChildFill="False"
                            Margin="0,10,0,0">
                            <u:IconButton
                                Content="{Binding Source={x:Static properties:LangHelper.Current}, Path=Resources.AddNewAccount}"
                                Margin="10,0,0,0"
                                x:Name="AddAccount">
                                <u:IconButton.Icon>
                                    <PathIcon
                                        Data="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"
                                        Height="13"
                                        Width="13" />
                                </u:IconButton.Icon>
                            </u:IconButton>
                            <u:IconButton
                                Content="{Binding Source={x:Static properties:LangHelper.Current}, Path=Resources.Open3DView}"
                                IsVisible="False"
                                Margin="10,0,0,0"
                                x:Name="Open3DView">
                                <u:IconButton.Icon>
                                    <PathIcon
                                        Data="M290.8 48.6l78.4 29.7L288 109.5 206.8 78.3l78.4-29.7c1.8-.7 3.8-.7 5.7 0zM136 92.5l0 112.2c-1.3 .4-2.6 .8-3.9 1.3l-96 36.4C14.4 250.6 0 271.5 0 294.7L0 413.9c0 22.2 13.1 42.3 33.5 51.3l96 42.2c14.4 6.3 30.7 6.3 45.1 0L288 457.5l113.5 49.9c14.4 6.3 30.7 6.3 45.1 0l96-42.2c20.3-8.9 33.5-29.1 33.5-51.3l0-119.1c0-23.3-14.4-44.1-36.1-52.4l-96-36.4c-1.3-.5-2.6-.9-3.9-1.3l0-112.2c0-23.3-14.4-44.1-36.1-52.4l-96-36.4c-12.8-4.8-26.9-4.8-39.7 0l-96 36.4C150.4 48.4 136 69.3 136 92.5zM392 210.6l-82.4 31.2 0-89.2L392 121l0 89.6zM154.8 250.9l78.4 29.7L152 311.7 70.8 280.6l78.4-29.7c1.8-.7 3.8-.7 5.7 0zm18.8 204.4l0-100.5L256 323.2l0 95.9-82.4 36.2zM421.2 250.9c1.8-.7 3.8-.7 5.7 0l78.4 29.7L424 311.7l-81.2-31.1 78.4-29.7zM523.2 421.2l-77.6 34.1 0-100.5L528 323.2l0 90.7c0 3.2-1.9 6-4.8 7.3z"
                                        Height="14"
                                        Width="14" />
                                </u:IconButton.Icon>
                            </u:IconButton>
                            <u:IconButton
                                Content="{Binding Source={x:Static properties:LangHelper.Current}, Path=Resources.DelSelectedItem}"
                                Margin="10,0,0,0"
                                x:Name="DelSelectedAccount">
                                <u:IconButton.Icon>
                                    <PathIcon
                                        Data="M290.7 57.4L57.4 290.7c-25 25-25 65.5 0 90.5l80 80c12 12 28.3 18.7 45.3 18.7L288 480l9.4 0L512 480c17.7 0 32-14.3 32-32s-14.3-32-32-32l-124.1 0L518.6 285.3c25-25 25-65.5 0-90.5L381.3 57.4c-25-25-65.5-25-90.5 0zM297.4 416l-9.4 0-105.4 0-80-80L227.3 211.3 364.7 348.7 297.4 416z"
                                        Height="14"
                                        Width="14" />
                                </u:IconButton.Icon>
                            </u:IconButton>
                        </DockPanel>
                        <ListBox
                            DockPanel.Dock="Bottom"
                            ItemsSource="{Binding SettingEntry.MinecraftAccounts}"
                            Margin="5"
                            SelectedItem="{Binding SettingEntry.UsingMinecraftAccount}"
                            x:Name="AccountsListView">
                            <ListBox.ItemTemplate>
                                <DataTemplate DataType="minecraft:RecordMinecraftAccount">
                                    <Border Margin="0,6">
                                        <DockPanel>
                                            <Border
                                                ClipToBounds="True"
                                                CornerRadius="3,3,3,3"
                                                Height="35"
                                                Margin="2,0,6.5,0"
                                                Width="35">
                                                <Image Source="{Binding Head}" />
                                            </Border>
                                            <StackPanel>
                                                <StackPanel Orientation="Horizontal" Spacing="5">
                                                    <TextBlock
                                                        FontSize="14"
                                                        Text="{Binding Name}"
                                                        VerticalAlignment="Bottom" />
                                                    <TextBlock
                                                        FontSize="11"
                                                        Foreground="{DynamicResource GrayColor}"
                                                        VerticalAlignment="Bottom">
                                                        <Run Text="{Binding Source={x:Static properties:LangHelper.Current}, Path=Resources.LastUsedTime}" />
                                                        <Run Text=": " />
                                                        <Run Text="{Binding FormatLastUsedTime}" />
                                                    </TextBlock>
                                                </StackPanel>
                                                <StackPanel Orientation="Horizontal" Spacing="5">
                                                    <TextBlock
                                                        FontSize="11"
                                                        Foreground="{DynamicResource GrayColor}"
                                                        Text="{Binding AccountType}" />
                                                    <TextBlock
                                                        FontSize="11"
                                                        Foreground="{DynamicResource GrayColor}"
                                                        Text="{Binding UUID}" />
                                                </StackPanel>
                                            </StackPanel>
                                        </DockPanel>
                                    </Border>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </DockPanel>
                </Border>
                <GridSplitter Grid.Column="1" ShowsPreview="True" />
                <Border
                    Classes="card"
                    Grid.Column="2"
                    Margin="5,0,0,0">
                    <Border
                        ClipToBounds="True"
                        CornerRadius="10"
                        Margin="10">
                        <Grid>
                            <Image
                                IsVisible="{Binding UiProperty.IsEnable3DSkinRender, Converter={StaticResource ReverseBoolConverter}}"
                                Margin="60,60,60,70"
                                Source="{Binding SettingEntry.UsingMinecraftAccount.Body}" />
                            <controls1:SkinRender3D
                                CapeVisibility="False"
                                EnableAnimation="True"
                                Focusable="True"
                                IsVisible="{Binding UiProperty.IsEnable3DSkinRender}"
                                Margin="0,0,0,40"
                                Name="skinViewer" />
                            <ToggleSwitch
                                HorizontalAlignment="Center"
                                IsChecked="{Binding UiProperty.IsEnable3DSkinRender, Mode=TwoWay}"
                                OffContent="{Binding Source={x:Static properties:LangHelper.Current}, Path=Resources.View3D}"
                                OnContent="{Binding Source={x:Static properties:LangHelper.Current}, Path=Resources.View3D}"
                                VerticalAlignment="Bottom" />
                        </Grid>
                    </Border>
                </Border>
            </Grid>
        </Border>
    </Border>
</UserControl>
